{"version":3,"sources":["webpack:///./src/pages/game.tsx","webpack:///./src/assets/run_d_strip6.png"],"names":["sprite","require","Game","props","canvasRef","React","createRef","componentDidMount","ctx","this","current","getContext","document","addEventListener","ev","console","log","keyCode","runSprite","Image","src","ball","x","y","radius","color","draw","beginPath","arc","Math","PI","closePath","fillStyle","fill","ticks","frame","clearRect","fillRect","drawImage","loop","window","requestAnimationFrame","render","ref","width","height","Component","module","exports"],"mappings":"yIAKMA,EAASC,EAAQ,QAEjBC,E,YAGJ,WAAYC,GAAO,aACjB,cAAMA,IAAN,MACKC,UAAYC,IAAMC,YAFN,E,4CAKnBC,kBAAA,WACE,IAAMC,EAAMC,KAAKL,UAAUM,QAAQC,WAAW,MAE9CC,SAASC,iBAAiB,WAAW,SAACC,GACpCC,QAAQC,IAAI,QAAUF,EAAGG,YACxB,GAEHL,SAASC,iBAAiB,SAAS,SAACC,GAClCC,QAAQC,IAAI,MAAQF,EAAGG,YACtB,GAEH,IAAMC,EAAY,IAAIC,MACtBD,EAAUE,IAAMpB,EAEhB,IAAMqB,EAAO,CACXC,EAAG,IACHC,EAAG,IACHC,OAAQ,GACRC,MAAO,OACPC,KAAM,WACJlB,EAAImB,YACJnB,EAAIoB,IAAInB,KAAKa,EAAGb,KAAKc,EAAGd,KAAKe,OAAQ,EAAa,EAAVK,KAAKC,IAAQ,GACrDtB,EAAIuB,YACJvB,EAAIwB,UAAYvB,KAAKgB,MACrBjB,EAAIyB,SAeR,IAAIC,EAAQ,EACRC,EAAQ,EAEZ,SAAST,IACPlB,EAAIwB,UAAY,eAChBxB,EAAI4B,UAAU,EAAG,EAzDF,IACC,KAyDhB5B,EAAI6B,SAAS,EAAG,EA1DD,IACC,KA2DhBhB,EAAKK,SAELQ,EACY,GAAK,GACfC,IAEF3B,EAAI8B,UAAUpB,EAAYiB,EAAQ,EAAK,GAAI,EAAG,GAAI,GAAI,IAAK,IAAK,GAAI,KAzBtE,SAASI,EAAKJ,GAQZd,EAAKC,GAAK,EANVI,IAEAc,OAAOC,sBAAsBF,GAwB/BA,I,EAGFG,OAAA,WACE,OACE,6BACE,4BAAQC,IAAKlC,KAAKL,UAAWwC,MA3EhB,IA2EqCC,OA1EpC,Q,GAIHxC,IAAMyC,WA4EV5C,a,mBCnFf6C,EAAOC,QAAU","file":"component---src-pages-game-tsx-d35fdc26ec9037949969.js","sourcesContent":["import React from \"react\"\n\nconst CANVAS_WIDTH = 240\nconst CANVAS_HEIGHT = 160\n\nconst sprite = require('../assets/run_d_strip6.png');\n\nclass Game extends React.Component {\n  private canvasRef: React.RefObject<HTMLCanvasElement>\n\n  constructor(props) {\n    super(props)\n    this.canvasRef = React.createRef()\n  }\n\n  componentDidMount() {\n    const ctx = this.canvasRef.current.getContext('2d')\n\n    document.addEventListener('keydown', (ev) => {\n      console.log('down ' + ev.keyCode)\n    }, false)\n\n    document.addEventListener('keyup', (ev) => {\n      console.log('up ' + ev.keyCode)\n    }, false)\n\n    const runSprite = new Image();\n    runSprite.src = sprite;\n\n    const ball = {\n      x: 100,\n      y: 100,\n      radius: 25,\n      color: 'blue',\n      draw: function() {\n        ctx.beginPath();\n        ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2, true);\n        ctx.closePath();\n        ctx.fillStyle = this.color;\n        ctx.fill();\n      }\n    }\n\n    function loop(frame) {\n      update()\n      draw()\n\n      window.requestAnimationFrame(loop)\n    }\n\n    function update() {\n      ball.x += 1\n    }\n    \n    var ticks = 0;\n    var frame = 0;\n\n    function draw() {\n      ctx.fillStyle = 'rgb(0, 0, 0)'\n      ctx.clearRect(0, 0, CANVAS_WIDTH, CANVAS_HEIGHT)\n      ctx.fillRect(0, 0, CANVAS_WIDTH, CANVAS_HEIGHT)\n\n      ball.draw()\n\n      ticks++\n      if (ticks % 3 == 0) {\n        frame++\n      }\n      ctx.drawImage(runSprite, (frame % 6) * 23, 0, 23, 32, 100, 100, 23, 32)\n    }\n\n    loop(null);\n  }\n\n  render() {\n    return (\n      <div>\n        <canvas ref={this.canvasRef} width={CANVAS_WIDTH} height={CANVAS_HEIGHT} />\n      </div>\n    )\n  }\n}\n\nexport default Game\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIoAAAAgCAYAAADNAODsAAAFE0lEQVR4nO1au5UbMQxUCQpVgkpwqBIcXiku4UKHV4JDl3ChS7hQoUN3IAsUwRtgwV0SBO8p2H2PT7eSdjgcDMCP7nBovM6ny41b6zPPcM3kvWtigL6/vpQW3ckM4jN575oYwKf3v7fjy/vt359DaXRP7492MIv4TN67Jgbw8fTjdrr+TmC6pffvn3s7mEV8Ju9dkxr4t7cCviBO798/fzbBp/PeNbGJH98+EhiWwkSe3n9C4tN575rI6/V7Bqd2J7ho+TP63jMRn8l716QCTm6m1zRvAjDd4+fPRHw2710TdZFzP379TA9fr9c7ycc9vdI9vU/3XofPIj6T967JSgcvl3MqfwTEje7p/V5gPBuYSTya91dg92ji2S5P0wQJcQfcGLgHnBdrPAfPFHyLtwdX469pMtPgZb3iWNiG8uYHuNSlxRQFGLdrea6kz1vB0yCzSQiPnmeiUcFk7lXe9/sezhY+l/+0ZlDY1Cd/7jVMLZj0mvrlMd217E3UtIMyNGHezZzLgU82QhKbBaEgcwOz8MlhCzZWEzaaIK5It4pQ8LMBRSCBM/fbylnjl2CtaILf6T0kq5o8G5wN2GsU5C6qkoolG3ETtxgFVtocAA5gGURenfeULfwutzIdZdJo0B4h+ESTuWvebBQOQG8ABd88dq1J2eLCIrSr4qLRMJhKZ9e0n7Xhvxe8OeZbp8DotCR6dixm6q/D+TOjciDpuxwkj/hCGCV277Rm8SbO5SwCRWnky7rwOAu/nIVFEwgmcunqRyUnJs7IVGaNnTCJe4232VcBg1LHX2RwmieJNL3yYMRznXMmY7PQGo9PKLcwxdoHvo9G0UbsyUwLn80iNDE0Q03X+ilmhON7XCvSGLwmMSt4NiAaBXlU41kT2xw0lC/Mmt6KgtiiMjFedndzIFX2WsESffUYEcTD6mnpUntuyyjW2EsFGzm6zwZErNWiAFNe3Shq24XZUzrg0qgG4x6IgVeqSuMcb1WHwhsEKX11VkHGRjMLfMBeGLUmusLX49b9uPVViSxiCfFc09IUwxQ7CWHPoZ4pZ4ktA9g6LbRhX8qrrj49VVCIrheuSht8pnUcYnqwAuswi06KT+NdVnl3XyJr0gJOLgRDglkyEoQaJG5hLxbfzjWVCCZgW9np5W2tKUarynIxPo69IC5EYXDnvLnALlvxsezZ5G0swN3CgwaRgusKUrAHNLEqdahRBGiwUfQiqxDnX09znyFTD5pQZasbe8MoQwFFDTLvnsV3DVuaJMaEn8Tz/0CYWZ8XahHl8NGPXHFHrfQf4n9iD2d85lbL+iFN1OHj0dAphD9oMmrCxVbJJD4STPgZXQQTTla7SR+WJnxUrLHpRvNeNfhoJVzRJGS6L7udi9RoxIQCGMtsw5bPhd14QLWJa5kwNy9fgQ9VT0w9EUbEM45AbL5QizATmg6PdLcWnDNzguBeLBMbjRhUCQVvrOBBiamvqMSUxIMrit6mTqlWasr0Yq1iz6goFrba3kaMQ0+Zw7iiVOk1ivPYHudGMddDG909iFNewBve8aiTU83bg8vYZ621sd7ymkWP/2jo5F7MboI7/nlGi6F/8a21HnzLhCO4iL/4qWEQd23MaBRvErVgu3+KWQV3Zn4rjtcsBVvveDaM0it4D3evzj1aefEto2DCtmiy2olFehRz1CSIv9jxRFeUIJN8pSZrRgnd+USI3Io52kdrxnu5b/GfgRnRR2u1qj3/H7tNukKq+9OLAAAAAElFTkSuQmCC\""],"sourceRoot":""}